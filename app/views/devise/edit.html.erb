
<div class="col-lg-4 col-lg-offset-4">  
<div class=" panel panel-primary">
<div class="panel-heading">Edit form</div>
<div class="panel-body">

<%= form_for(@user) do |f| %>

  <% if @user.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@user.errors.count, "error") %> prohibited this form from being saved:</h2>

      <ul>
      <% @user.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="form-group">
    <%= f.label :firstname %><br />
    <%= f.text_field :firstname, autofocus: true,:class=>"form-control" %>
  </div>

  <div class="form-group">
    <%= f.label :lastname %><br />
    <%= f.text_field :lastname, autofocus: true,:class=>"form-control" %>
  </div>

  <% if current_user.role.name!="admin"%>
  <div class="form-group">
    <%= f.label :type_of_user %><br />
   <%= f.collection_select :role_id,Role.where.not(name:"admin"),:id,:name,{:prompt=>"what type of user are you?"},:class=>"form-control"%>
  </div>
  <%end%>


  <div class="form-group">
    <%= f.label :phone %><br />
    <%= f.text_field :phone, autofocus: true,:class=>"form-control" %>
  </div>

  <%if f.object.role.name.eql?("admin")%>
  <div class="form-group">
    <%= f.label :email %><br />
    <%= f.email_field :email, autofocus: true,:class=>"form-control" %>
  </div>
  <%end%>

 

  <div class="form-group">
    <%= f.label :password %> <i>(leave blank if you don't want to change it)</i><br />
    <%= f.password_field :password, autocomplete: "off",:class=>"form-control" %>
  </div>
 <br>

  <div class="form-group">
    <%= f.submit "Update",:class=>"btn btn-info btn-block" %>
  </div>
  
<% end %>



<%= link_to "Back", :back %>

</form>
</div>
</div>
</div>