


<div class="col-lg-4 col-lg-offset-4">  
<div class="text-center">
  <%=image_tag "promax-logo.png",:class=>"loglogo"%>
  </div>
<div class="form-wrapper">

<div class="h3 text-center">Sign Up</div>
<%= form_for(resource, as: resource_name, url: registration_path(resource_name),:html=>{:id=>"signup_form"}) do |f| %>
  <%= devise_error_messages! %>
  
  
      <div class="ffield">
        <%= f.text_field :firstname, autofocus: true, :placeholder=>"firstname",:class=>"myform-control" %>
      </div>

      <div class="lfield">
        <%= f.text_field :lastname, autofocus: true,:placeholder=>"lastname",:class=>"myform-control" %>
      </div>
 

  <div class="field">
    <%= f.collection_select :role_id,Role.where.not(name:"admin"),:id,:name,{:prompt=>"what type of user are you?"},:class=>"myform-control"%>
  </div>


  <div class="field">
    <%= f.text_field :email, autofocus: true,:placeholder=>"email",:class=>"myform-control" %>
  </div>

  <div class="field">
    <%= f.text_field :phone, autofocus: true,:placeholder=>"phone",:class=>"myform-control" %>
  </div>

  <div class="ffield">
    <%= f.password_field :password, autocomplete: "off",:placeholder=>"password",:class=>"myform-control" %>
  </div>

  <div class="lfield">
    <%= f.password_field :password_confirmation,:placeholder=>"confirm password", autocomplete: "off",:class=>"myform-control" %>
  </div>

  <%= f.fields_for :attachment_attributes,@attachment do |at|%>
    <div class="field">
      <%=at.label :profile_picture%>
      <%=at.file_field :file%>
    </div>

  <% end %>


  <br>
  <div class="form-group">
    <%= f.submit "Sign up",:class=>"btn-block myform-btn" %>
  </div>
<% end %>

<%= render "devise/shared/links" %>


</div>
</div>


<script type="text/javascript">
   
$(document).ready(function () {

$("#signup_form").validate({
    rules : {
      "user[email]": {
        required : true,
        email    : true
      },
      "user[password]":{
         required: true,
         minlength: 8,
         maxlength: 25
      },
      "user[password_confirmation]":{
         required: true,
         minlength: 8,
         maxlength: 25,
         equalTo: "#user_password"
      },
      "user[firstname]":{
        required: true,
         minlength: 3,
         maxlength: 20
      },
      "user[lastname]":{
        required: true,
         minlength: 3,
         maxlength: 20
      },
      "user[phone]":{
         required: true ,
         minlength: 7,
         maxlength: 11,
         digits:true
      },
      "user[role_id]":{
        required: true  
      }

    },
    messages:{
      "user[email]":{
        required: "please enter email Id",
        email: "invalid email id"
      },
      "user[password]": {
        required: "please enter password",
        minlength: "password must contain min 8 chars",
        maxlength: "password must contain max 25 chars"
      },
      "user[password_confirmation]":{
         required: "please reenter password",
         minlength: "password must contain min 8 chars",
         maxlength: "password must contain max 25 chars",
         equalTo: "password should match"
      },
      "user[firstname]":{
        required: "please enter firstname",
         minlength: "firstname must contain min 3 chars",
         maxlength: "firstname must contain max 20 chars"
      },
      "user[lastname]":{
        required: "please enter lastname",
         minlength: "lastname must contain min 3 chars",
         maxlength: "lastname must contain max 20 chars"
      },
      "user[phone]":{
         required: "please enter phoneno" ,
         minlength: "phoneno must contain min 7 chars",
         maxlength: "phoneno must contain max 11 chars",
         digits:"invalid phone number"
      },
      "user[role_id]":{
        required: "please choose your role"
      }


    }
 });
});
</script>
